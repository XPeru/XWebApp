<div class="panel panel-default panel-primary">
    <div class="panel-heading clearfix">
        <h3 class="panel-title">Usuarios</h3>
    </div>
    <div class="panel-body ">
        <div class="table-responsive">
            <table ng-table="usuariosCtrl.usersTable" class="table">
                <thead>
                    <tr>
                        <th>Foto</th>
                        <th>
                            <a ng-click="usuariosCtrl.setType('NOMBRE')">
                                Nombre
                                <span ng-show="usuariosCtrl.sortType == 'NOMBRE' && !usuariosCtrl.sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="usuariosCtrl.sortType == 'NOMBRE' && usuariosCtrl.sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th>
                            <a ng-click="usuariosCtrl.setType('APELLIDOS')">
                                Apellidos
                                <span ng-show="usuariosCtrl.sortType == 'APELLIDOS' && !usuariosCtrl.sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="usuariosCtrl.sortType == 'APELLIDOS' && usuariosCtrl.sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th>
                            <a ng-click="usuariosCtrl.setType('EMAIL')">
                                Email
                                <span ng-show="usuariosCtrl.sortType == 'EMAIL' && !usuariosCtrl.sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="usuariosCtrl.sortType == 'EMAIL' && usuariosCtrl.sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th>
                            <a ng-click="usuariosCtrl.setType('CREATE_TIME')">
                                Creado
                                <span ng-show="usuariosCtrl.sortType == 'CREATE_TIME' && !usuariosCtrl.sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="usuariosCtrl.sortType == 'CREATE_TIME' && usuariosCtrl.sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th>
                            <a ng-click="usuariosCtrl.setType('UPDATE_TIME')">
                                Ultima modificacion
                                <span ng-show="usuariosCtrl.sortType == 'UPDATE_TIME' && !usuariosCtrl.sortReverse" class="fa fa-caret-down"></span>
                                <span ng-show="usuariosCtrl.sortType == 'UPDATE_TIME' && usuariosCtrl.sortReverse" class="fa fa-caret-up"></span>
                            </a>
                        </th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="usuario in $data.Usuarios|orderBy:usuariosCtrl.sortType:usuariosCtrl.sortReverse"
                        ng-click="usuariosCtrl.setSelected(usuario.ID_USUARIO)"
                        ng-class="{info: usuario.ID_USUARIO === usuariosCtrl.idSelectedUsuario}">
                        <td><img class="img-thumbnail" ng-src={{usuario.FOTO}} width="100" height="100"></td>
                        <td>{{usuario.NOMBRE}}</td>
                        <td>{{usuario.APELLIDOS}}</td>
                        <td>{{usuario.EMAIL}}</td>
                        <td>{{usuario.CREATE_TIME|date:'medium'}}</td>
                        <td>{{usuario.UPDATE_TIME|date:'medium'}}</td>
                        <td style="width:60px">
                            <button ng-if="usuario.ID_USUARIO === usuariosCtrl.idSelectedUsuario"
                                ng-click="usuariosCtrl.openModalUsuario('edit', usuario)"
                                class="btn btn-small btn-primary">
                                <i class="glyphicon glyphicon-pencil"></i>
                            </button>
                        </td>
                        <td style="width:60px">
                            <button ng-if="usuario.ID_USUARIO === usuariosCtrl.idSelectedUsuario"
                                ng-click="usuariosCtrl.openModalUsuario('delete', usuario)"
                                class="btn btn-small btn-danger">
                                <i class="glyphicon glyphicon-remove"></i>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<button ng-click="usuariosCtrl.openModalUsuario('create', null)" class="btn btn-small">
    Nuevo <span><i class="glyphicon glyphicon-plus"></i></span>
</button>


